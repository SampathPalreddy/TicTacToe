{"ast":null,"code":"var _jsxFileName = \"/Users/palreddysampath/workspace/tic-tac-toe/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Status from './components/Status';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      board: Array(9).fill(null),\n      player: null,\n      winner: null,\n      outOfMoves: 0,\n      movesOrder: Array(9).fill(null)\n    };\n  }\n\n  checkWinner() {\n    let winLines = [[\"0\", \"1\", '2'], [\"3\", \"4\", '5'], [\"6\", \"7\", '8'], [\"0\", \"3\", '6'], [\"1\", \"4\", '7'], [\"2\", \"5\", '8'], [\"0\", \"4\", '8'], [\"2\", \"4\", '6']];\n    this.checkMatch(winLines);\n  }\n\n  checkMatch(winLines) {\n    for (let index = 0; index < winLines.length; index++) {\n      const [a, b, c] = winLines[index];\n      let board = this.state.board;\n\n      if (board[a] && board[a] === board[b] && board[a] === board[c]) {\n        alert('You won');\n        this.setState({\n          winner: this.state.player\n        });\n      }\n    }\n  }\n\n  handleClick(index) {\n    if (this.state.player && !this.state.winner) {\n      let newBoard = this.state.board;\n      let moves = this.state.movesOrder;\n\n      if (this.state.board[index] === null) {\n        newBoard[index] = this.state.player;\n        moves[this.state.outOfMoves] = index;\n        this.setState({\n          board: newBoard,\n          player: this.state.player === \"X\" ? \"O\" : \"X\",\n          movesOrder: moves,\n          outOfMoves: this.state.outOfMoves + 1\n        });\n        this.checkWinner();\n      }\n    }\n  }\n\n  setPlayer(player) {\n    this.setState({\n      player\n    });\n  }\n\n  renderBoxes() {\n    return this.state.board.map((box, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      key: index,\n      onClick: () => this.handleClick(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, box, \" \"));\n  }\n\n  reset() {\n    this.setState({\n      player: null,\n      winner: null,\n      board: Array(9).fill(null),\n      outOfMoves: 0\n    });\n  }\n\n  rewind() {\n    if (this.state.outOfMoves > 0) {\n      let moves = this.state.movesOrder;\n      let newBoard = this.state.board;\n      let val = moves[this.state.outOfMoves - 1];\n      newBoard[val] = null;\n      this.setState({\n        movesOrder: moves,\n        board: newBoard,\n        player: this.state.player === \"X\" ? \"O\" : \"X\",\n        outOfMoves: this.state.outOfMoves - 1\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.outOfMoves);\n    const enableReset = this.state.outOfMoves !== 8 || !this.state.winner;\n    console.log(enableReset);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, \"Tic Tac Toe App\"), /*#__PURE__*/React.createElement(Status, {\n      player: this.state.player,\n      setPlayer: e => {\n        this.setPlayer(e);\n      },\n      winner: this.state.winner,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"board\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, this.renderBoxes()), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: enableReset,\n      onClick: () => this.reset(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, \" Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.outOfMoves === 0,\n      onClick: () => this.rewind(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, \" Rewind\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/palreddysampath/workspace/tic-tac-toe/src/App.js"],"names":["React","Component","Status","App","constructor","props","state","board","Array","fill","player","winner","outOfMoves","movesOrder","checkWinner","winLines","checkMatch","index","length","a","b","c","alert","setState","handleClick","newBoard","moves","setPlayer","renderBoxes","map","box","reset","rewind","val","render","console","log","enableReset","e"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAC1BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CADI;AAEXC,MAAAA,MAAM,EAAE,IAFG;AAGXC,MAAAA,MAAM,EAAE,IAHG;AAIXC,MAAAA,UAAU,EAAE,CAJD;AAKXC,MAAAA,UAAU,EAAEL,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd;AALD,KAAb;AAOD;;AAEDK,EAAAA,WAAW,GAAG;AACZ,QAAIC,QAAQ,GACV,CACE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CADF,EAEE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAFF,EAGE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAHF,EAIE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAJF,EAKE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CALF,EAME,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CANF,EAOE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAPF,EAQE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CARF,CADF;AAWA,SAAKC,UAAL,CAAgBD,QAAhB;AACD;;AAEDC,EAAAA,UAAU,CAACD,QAAD,EAAW;AACnB,SAAK,IAAIE,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGF,QAAQ,CAACG,MAArC,EAA6CD,KAAK,EAAlD,EAAsD;AACpD,YAAM,CAACE,CAAD,EAAIC,CAAJ,EAAOC,CAAP,IAAYN,QAAQ,CAACE,KAAD,CAA1B;AACA,UAAIV,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAvB;;AACA,UAAIA,KAAK,CAACY,CAAD,CAAL,IAAYZ,KAAK,CAACY,CAAD,CAAL,KAAaZ,KAAK,CAACa,CAAD,CAA9B,IAAqCb,KAAK,CAACY,CAAD,CAAL,KAAaZ,KAAK,CAACc,CAAD,CAA3D,EAAgE;AAC9DC,QAAAA,KAAK,CAAC,SAAD,CAAL;AACA,aAAKC,QAAL,CAAc;AACZZ,UAAAA,MAAM,EAAE,KAAKL,KAAL,CAAWI;AADP,SAAd;AAGD;AACF;AACF;;AAEDc,EAAAA,WAAW,CAACP,KAAD,EAAQ;AACjB,QAAI,KAAKX,KAAL,CAAWI,MAAX,IAAqB,CAAC,KAAKJ,KAAL,CAAWK,MAArC,EAA6C;AAC3C,UAAIc,QAAQ,GAAG,KAAKnB,KAAL,CAAWC,KAA1B;AACA,UAAImB,KAAK,GAAG,KAAKpB,KAAL,CAAWO,UAAvB;;AACA,UAAI,KAAKP,KAAL,CAAWC,KAAX,CAAiBU,KAAjB,MAA4B,IAAhC,EAAsC;AACpCQ,QAAAA,QAAQ,CAACR,KAAD,CAAR,GAAkB,KAAKX,KAAL,CAAWI,MAA7B;AACAgB,QAAAA,KAAK,CAAC,KAAKpB,KAAL,CAAWM,UAAZ,CAAL,GAA+BK,KAA/B;AACA,aAAKM,QAAL,CAAc;AACZhB,UAAAA,KAAK,EAAEkB,QADK;AAEZf,UAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAAX,KAAsB,GAAtB,GAA4B,GAA5B,GAAkC,GAF9B;AAGZG,UAAAA,UAAU,EAAGa,KAHD;AAIZd,UAAAA,UAAU,EAAE,KAAKN,KAAL,CAAWM,UAAX,GAAuB;AAJvB,SAAd;AAMA,aAAKE,WAAL;AACD;AACF;AACF;;AAEDa,EAAAA,SAAS,CAACjB,MAAD,EAAS;AAChB,SAAKa,QAAL,CAAc;AAAEb,MAAAA;AAAF,KAAd;AACD;;AAEDkB,EAAAA,WAAW,GAAG;AACZ,WAAO,KAAKtB,KAAL,CAAWC,KAAX,CAAiBsB,GAAjB,CACL,CAACC,GAAD,EAAMb,KAAN,kBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,GAAG,EAAEA,KAA1B;AACE,MAAA,OAAO,EAAE,MAAM,KAAKO,WAAL,CAAiBP,KAAjB,CADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEGa,GAFH,MAFG,CAAP;AAMD;;AACDC,EAAAA,KAAK,GAAG;AACN,SAAKR,QAAL,CAAc;AACZb,MAAAA,MAAM,EAAE,IADI;AAEZC,MAAAA,MAAM,EAAE,IAFI;AAGZJ,MAAAA,KAAK,EAAEC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,CAAc,IAAd,CAHK;AAIZG,MAAAA,UAAU,EAAC;AAJC,KAAd;AAMD;;AACDoB,EAAAA,MAAM,GAAE;AACN,QAAG,KAAK1B,KAAL,CAAWM,UAAX,GAAwB,CAA3B,EAA6B;AAC3B,UAAIc,KAAK,GAAG,KAAKpB,KAAL,CAAWO,UAAvB;AACA,UAAIY,QAAQ,GAAG,KAAKnB,KAAL,CAAWC,KAA1B;AACA,UAAI0B,GAAG,GAAGP,KAAK,CAAC,KAAKpB,KAAL,CAAWM,UAAX,GAAsB,CAAvB,CAAf;AACAa,MAAAA,QAAQ,CAACQ,GAAD,CAAR,GAAgB,IAAhB;AACA,WAAKV,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAGa,KADD;AAEZnB,QAAAA,KAAK,EAAEkB,QAFK;AAGZf,QAAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWI,MAAX,KAAsB,GAAtB,GAA4B,GAA5B,GAAkC,GAH9B;AAIZE,QAAAA,UAAU,EAAE,KAAKN,KAAL,CAAWM,UAAX,GAAuB;AAJvB,OAAd;AAMD;AACF;;AAEDsB,EAAAA,MAAM,GAAG;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK9B,KAAL,CAAWM,UAAvB;AACA,UAAMyB,WAAW,GAAI,KAAK/B,KAAL,CAAWM,UAAX,KAA0B,CAA1B,IAA+B,CAAC,KAAKN,KAAL,CAAWK,MAAhE;AACAwB,IAAAA,OAAO,CAACC,GAAR,CAAYC,WAAZ;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE,oBAAC,MAAD;AACE,MAAA,MAAM,EAAE,KAAK/B,KAAL,CAAWI,MADrB;AAEE,MAAA,SAAS,EAAG4B,CAAD,IAAO;AAAE,aAAKX,SAAL,CAAeW,CAAf;AAAmB,OAFzC;AAGE,MAAA,MAAM,EAAE,KAAKhC,KAAL,CAAWK,MAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAOE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKiB,WAAL,EADH,CAPF,eAUE;AAAQ,MAAA,QAAQ,EAAES,WAAlB;AAA+B,MAAA,OAAO,EAAE,MAAM,KAAKN,KAAL,EAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF,eAWE;AAAQ,MAAA,QAAQ,EAAE,KAAKzB,KAAL,CAAWM,UAAX,KAA0B,CAA5C;AAA+C,MAAA,OAAO,EAAE,MAAM,KAAKoB,MAAL,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXF,CADF;AAeD;;AAhHyB;;AAmH5B,eAAe7B,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Status from './components/Status';\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      board: Array(9).fill(null),\n      player: null,\n      winner: null,\n      outOfMoves: 0,\n      movesOrder: Array(9).fill(null)\n    }\n  }\n\n  checkWinner() {\n    let winLines =\n      [\n        [\"0\", \"1\", '2'],\n        [\"3\", \"4\", '5'],\n        [\"6\", \"7\", '8'],\n        [\"0\", \"3\", '6'],\n        [\"1\", \"4\", '7'],\n        [\"2\", \"5\", '8'],\n        [\"0\", \"4\", '8'],\n        [\"2\", \"4\", '6'],\n      ]\n    this.checkMatch(winLines)\n  }\n\n  checkMatch(winLines) {\n    for (let index = 0; index < winLines.length; index++) {\n      const [a, b, c] = winLines[index];\n      let board = this.state.board\n      if (board[a] && board[a] === board[b] && board[a] === board[c]) {\n        alert('You won');\n        this.setState({\n          winner: this.state.player\n        })\n      }\n    }\n  }\n\n  handleClick(index) {\n    if (this.state.player && !this.state.winner) {\n      let newBoard = this.state.board\n      let moves = this.state.movesOrder\n      if (this.state.board[index] === null) {\n        newBoard[index] = this.state.player\n        moves[this.state.outOfMoves] = index\n        this.setState({\n          board: newBoard,\n          player: this.state.player === \"X\" ? \"O\" : \"X\",\n          movesOrder : moves,\n          outOfMoves: this.state.outOfMoves +1\n        })\n        this.checkWinner()\n      }\n    }\n  }\n\n  setPlayer(player) {\n    this.setState({ player })\n  }\n\n  renderBoxes() {\n    return this.state.board.map(\n      (box, index) =>\n        <div className=\"box\" key={index}\n          onClick={() => this.handleClick(index)}>\n          {box} </div>\n    )\n  }\n  reset() {\n    this.setState({\n      player: null,\n      winner: null,\n      board: Array(9).fill(null),\n      outOfMoves:0\n    })\n  }\n  rewind(){\n    if(this.state.outOfMoves > 0){\n      let moves = this.state.movesOrder\n      let newBoard = this.state.board\n      let val = moves[this.state.outOfMoves-1]\n      newBoard[val] = null\n      this.setState({\n        movesOrder : moves,\n        board: newBoard,\n        player: this.state.player === \"X\" ? \"O\" : \"X\",\n        outOfMoves: this.state.outOfMoves -1\n      })\n    }\n  }\n\n  render() {\n    console.log(this.state.outOfMoves);\n    const enableReset = (this.state.outOfMoves !== 8 || !this.state.winner);\n    console.log(enableReset);\n    return (\n      <div className=\"container\">\n        <h1>Tic Tac Toe App</h1>\n        <Status\n          player={this.state.player}\n          setPlayer={(e) => { this.setPlayer(e) }}\n          winner={this.state.winner}\n        />\n        <div className=\"board\">\n          {this.renderBoxes()}\n        </div>\n        <button disabled={enableReset} onClick={() => this.reset()}> Reset</button >\n        <button disabled={this.state.outOfMoves === 0} onClick={() => this.rewind()}> Rewind</button >\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}